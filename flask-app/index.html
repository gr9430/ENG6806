<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recapitating Massive</title>

    <!-- favicon -->
    <link rel="icon" href="images/itc.ico" type="image/x-icon">

</head>
<body>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
  <nav class="navbar">
    <ul>
      <b><li><a href="https://gr9430.github.io/ENG6806/index.html">Home</a></li></b>
      <b><li><a href="https://gr9430.github.io/ENG6806/originalprojects.html">Original Projects</a></li></b>
      <b><li><a href="https://gr9430.github.io/ENG6806/enhancedprojects.html">Enhanced Projects</a></li></b>
      <b><li><a href="https://gr9430.github.io/ENG6806/flask-app/index.html">Public Humanities Prototype</a></li>
      <b><li><a href="mailto:glenn.ritchey@ucf.edu">Contact</a></li></b>
    </ul>
  </nav>
  
        <h1>Recapitating Massive: A Markov Model of John Trefry's <i>Massive</i></h1>
    <p>
        This basic web application allows the reader to become an automatic author.<br>
        By pressing the 'Generate Paragraph' button, you will develop a unique paragraph based on the 1,000,000+ words that make up <i>Massive</i>.<br>
        Use this model as often as you need to build your novel.
    </p>
    <div class="container">
    <section><button id="generateBtn">Generate Paragraph</button></section>
    <p id="loading" style="display: none;">Loading...</p>
    <!-- Output for generated paragraph-->
    <section> <p id="output"></p></section>
    </div>
    <div class="container">
 <section><h1>About <i>Massive</i></h1>
    <p>
        The 4th book by John Trefry, concerning the life of Osip Mandelstam
        between his first arrest in 1933 and his death in 1938 transposed into the
        eternalist block time of a vast nationstate called the ADA and composed in
        such a way that the text can be read an infinite number of ways and is only
        actualized by reading, does not sit inertly as a complete work within its
        closed covers.
    </p></section>
    
   <section><p>Read an excerpt from <a href="https://minorliteratures.com/2024/03/14/massive-excerpt-john-trefry" target="_blank"><i>Massive</i></a></p></section>
    <br>
<section>
    <p><i>Massive</i> at <a href="https://asterismbooks.com/product/massive">Asterism Books</a>.</p>
</section>
</div>
    <!-- JavaScript -->
    <script>
        document.getElementById("generateBtn").addEventListener("click", function () {
            // Backend URL
            const apiURL = "https://recapitating-massive.onrender.com/generate_paragraph?num_sentences=5";
    
            // Show loading message
            document.getElementById("output").innerText = "Generating paragraph...";
    
            // Fetch data from the backend
            fetch(apiURL)
                .then((response) => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then((data) => {
                    if (data.paragraph) {
                        // Display the generated paragraph
                        document.getElementById("output").innerText = data.paragraph;
                    } else {
                        // Handle case where paragraph generation failed
                        document.getElementById("output").innerText = "Error: Unable to generate paragraph.";
                    }
                })
                .catch((error) => {
                    console.error("Error:", error);
                    document.getElementById("output").innerText = "Error: Unable to fetch data from the backend.";
                });
        });
    </script>
    </body>
</html>
