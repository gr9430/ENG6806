<script>
  document.addEventListener("DOMContentLoaded", function() {
    const poemTitle = "The Waves Forget the Shoreline";
    const poemBody = `here, before the smoke painted the sky
with shadows, before stone towers rose
to watch over the sand like sentinels.
No room remains for the sea’s slow song—
edges cutting across the sky, blind
to the waves.

             Paths carve where sand once shifted
             beneath unsteady feet. Iron holds firm,
             sharp lines drawn into the earth,
             a geometry leading forward.
             The weight of time falls in rhythm,
             not like waves that forget what they touch.

~~~~~~~~~~~~~~~~~~~~
 ~~~~~~~~ ~~~~~~~~
 ~~~~ ~~~~~ ~~~~~ ~~~~~
~~~~~~~~~~~~~~~~~~~~

Clocks replace the pulse of the shore,
eyes shifting toward rising smoke,
toward fires held behind doors, where light bends
against walls built of stone and air grows heavy.
Feet forget the softness beneath them—
now the sky is laced with shadows,
and the wind carries only whispers
through spaces drawn by hands dreaming of steel.

             Towers rise to be followed, engines hum
             in hours marked by invisible hands.
             Wheels spin in the air,
             the hum surrounds,
             carrying a rhythm only steel can hear.

              ||||||||
              ||||||||
            ||||||||||
            ||||||||||
          ||||||||||||
          ||||||||||||
       |||||||||||||||

The first sound of waves breaking on the shore,
the pull of the tide soft as breath,
small hands once reached for shells as if to hold the sea.
Now the wind moves like a thought, caught
between the spaces where light once fell freely.
The air carries only shadows now—
a world remade in silence.

       __    
     __(o'\\
     <    \\    
      \\_   \\
      \`----'`;

    let titleIndex = 0;
    let bodyIndex = 0;

    // Function to type out the title
    function typeTitle() {
      const container = document.getElementById('poem-title');

      if (titleIndex < poemTitle.length) {
        container.innerHTML += poemTitle.charAt(titleIndex);
        titleIndex++;

        // Apply the same random delay logic for the title as the body
        let delay;
        const char = poemTitle.charAt(titleIndex - 1);

        if (char === ',' || char === '.' || char === '—') {
          // Longer delay after punctuation marks to simulate pauses
          delay = Math.floor(Math.random() * 300) + 300; // Between 300 and 600 ms
        } else if (Math.random() < 0.15) {
          // Occasionally add a longer pause
          delay = Math.floor(Math.random() * 300) + 300; // Between 300 and 600 ms
        } else {
          // Standard typing speed with more variation
          delay = Math.floor(Math.random() * 100) + 100; // Between 100 and 200 ms
        }

        setTimeout(typeTitle, delay);
      } else {
        // Once title is finished, start typing the body
        setTimeout(typePoem, 700); // Short delay before starting the body
      }
    }

    // Function to type out the poem body
    function typePoem() {
      const container = document.getElementById('poem-text');

      if (bodyIndex < poemBody.length) {
        if (poemBody.charAt(bodyIndex) === '\n') {
          container.innerHTML += '<br>';
        } else if (poemBody.charAt(bodyIndex) === ' ') {
          container.innerHTML += '&nbsp;';
        } else {
          container.innerHTML += poemBody.charAt(bodyIndex);
        }
        bodyIndex++;

        // Randomize delay to make typing more human-like
        let delay;
        const char = poemBody.charAt(bodyIndex - 1);

        if (char === ',' || char === '.' || char === '—' || char === '\n') {
          // Longer delay after punctuation marks to simulate pauses
          delay = Math.floor(Math.random() * 300) + 300; // Between 300 and 600 ms
        } else if (Math.random() < 0.15) {
          // Occasionally add a longer pause
          delay = Math.floor(Math.random() * 300) + 300; // Between 300 and 600 ms
        } else {
          // Standard typing speed with more variation
          delay = Math.floor(Math.random() * 100) + 100; // Between 100 and 200 ms
        }

        setTimeout(typePoem, delay);
      }
    }

    // Start typing the title first
    typeTitle();
  });
</script>
